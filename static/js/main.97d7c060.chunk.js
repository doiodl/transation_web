(this.webpackJsonptranslation_web=this.webpackJsonptranslation_web||[]).push([[0],{115:function(e,t,a){e.exports=a.p+"static/media/logo.a6b2e57f.jpg"},162:function(e,t,a){e.exports=a.p+"static/media/persik.4e1ec840.png"},163:function(e,t,a){},251:function(e,t,a){e.exports=a(326)},326:function(e,t,a){"use strict";a.r(t);a(58),a(61),a(62),a(63),a(64),a(65),a(66),a(67),a(68),a(69),a(70),a(71),a(72),a(73),a(74),a(75),a(76),a(77),a(78),a(79),a(80),a(81),a(82),a(83),a(84),a(86),a(87),a(88),a(89),a(90),a(91),a(92),a(93),a(94),a(95),a(96),a(97),a(98),a(99),a(100);var n=a(0),r=a.n(n),o=a(105),l=a.n(o),c=a(20),i=a.n(c),s=a(7),u=a.n(s),m=a(28),h=a(50),p=a(134),d=a.n(p),f=a(173),g=a.n(f),b=a(172),E=a.n(b),y=(a(289),a(17)),v=a.n(y),j=a(14),_=a.n(j),O=a(27),k=a.n(O),S=a(13),C=a.n(S),w=a(115),U=a.n(w),x=function(e){var t=e.id,a=e.go;e.fetchedUser;return r.a.createElement(v.a,{id:t},r.a.createElement(k.a,null,r.a.createElement(C.a,null,r.a.createElement("img",{style:{position:"relative",left:"30%"},src:U.a}),r.a.createElement("br",null),r.a.createElement(_.a,{style:{position:"relative",left:"35%"},size:"l",level:"commerce",onClick:a,"data-to":"persik"},r.a.createElement("b",null,"\u0412\u043e\u0439\u0442\u0438")))))},P=function(e){var t=e.id,a=e.go;e.fetchedUser;return r.a.createElement(v.a,{id:t},r.a.createElement(k.a,null,r.a.createElement(C.a,null,r.a.createElement("img",{style:{position:"relative",left:"30%"},src:U.a}),r.a.createElement("br",null),r.a.createElement(_.a,{style:{position:"relative",left:"35%"},size:"l",level:"commerce",onClick:a,"data-to":"f1"},r.a.createElement("b",null,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")))))},T=a(15),I=a(26),N=a.n(I),H=a(47),z=a.n(H),J=a(45),D=a.n(J),K=a(46),q=a.n(K),A=a(132),M=a.n(A),V=a(107),B=a.n(V),W=(a(162),a(167),a(133)),Y=a.n(W),G=(a(163),a(48)),L=a(49),F=a(57),Q=a(43),R=a(18),X=a(56),Z=a(168),$=a.n(Z),ee=a(54),te=a.n(ee),ae=a(55),ne=a.n(ae),re=function(e){function t(e){var a;return Object(G.a)(this,t),(a=Object(F.a)(this,Object(Q.a)(t).call(this,e))).infoId=e,a.but=a.but.bind(Object(R.a)(a)),a.onChangeHandler=a.onChangeHandler.bind(Object(R.a)(a)),a.runScript=a.runScript.bind(Object(R.a)(a)),a.state={massive:[],cur_n:0,msg:""},a}return Object(X.a)(t,e),Object(L.a)(t,[{key:"but",value:function(e){e.preventDefault(),console.log("\u041f\u043e \u0441\u0441\u044b\u043b\u043a\u0435 \u043a\u043b\u0438\u043a\u043d\u0443\u043b\u0438."),console.log(this.props.fetchedUser);var t=new Date,a=t.getHours()>=10?t.getHours().toString(10):"0"+t.getHours().toString(10),n=t.getMinutes()>=10?t.getMinutes().toString(10):"0"+t.getMinutes().toString(10),r={type_req:"chat",object:{type:"post",info:{id:this.props.fetchedUser.id,name:this.props.fetchedUser.first_name+" "+this.props.fetchedUser.last_name,msg:B()("#message-text").val(),date_msg:a+":"+n,photo_200:this.props.fetchedUser.photo_200}}};this.setState({msg:""}),fetch("https://doiodl.pythonanywhere.com/",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(r)}),this.tick(this)}},{key:"runScript",value:function(e){if("Enter"===e.key&&!e.shiftKey)return this.but(e),!1}},{key:"tick",value:function(e){var t={type_req:"chat",object:{type:"get",current_msg:this.state.cur_n}};fetch("https://doiodl.pythonanywhere.com/",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){if(console.log(t),t.add){console.log(t.msg_arr);var a=e.state.massive;e.setState({massive:a.concat(t.msg_arr)}),e.setState({cur_n:e.state.massive.length})}}))}},{key:"onChangeHandler",value:function(e){var t=e.target.value;this.setState({msg:t})}},{key:"componentDidMount",value:function(){var e=this;setInterval((function(){return e.tick(e)}),3e3)}},{key:"render",value:function(){return r.a.createElement(k.a,{name:"chats"},r.a.createElement(C.a,{id:"pole",className:"pole",style:{height:"250px",maxHeight:"250px",overflowY:"auto",whiteSpace:"normal"}},this.state.massive.map((function(e,t){return B()("#pole")[0].scrollTop=B()("#pole")[0].scrollHeight,r.a.createElement(te.a,{before:r.a.createElement(ne.a,{src:e.photo_200}),style:{width:"90%",whiteSpace:"normal"}},e.name," ",e.date_msg," ",r.a.createElement("br",null),r.a.createElement("p",{align:"left",style:{wordBreak:"break-word",whiteSpace:"normal"}}," ",e.msg," "))}))),r.a.createElement(C.a,{class:"chat-input"},r.a.createElement(T.a,{id:"chat-form"},r.a.createElement("div",{style:{display:"flex",width:"100%"}},r.a.createElement($.a,{style:{width:"90%"},onKeyPress:this.runScript,id:"message-text",onChange:this.onChangeHandler,class:"chat-form__input",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",value:this.state.msg}),r.a.createElement(_.a,{style:{height:"40px"},before:r.a.createElement(M.a,null),class:"chat-form__submit",onClick:this.but})))))}}]),t}(n.Component),oe=Object(T.c)(),le=function(e){var t=Object(n.useState)(0),a=Object(h.a)(t,2),o=a[0],l=a[1];function c(){var t={type:"js_test",type_req:"false",object:{user_id:e.fetchedUser.id}};fetch("https://doiodl.pythonanywhere.com/",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(t)}).then((function(e){return console.log(e),e.json()})).then((function(e){console.log(e)}))}return"id"in e.fetchedUser||(e.fetchedUser.id="82815081"),c(),setInterval((function(){c()}),18e4),fetch("https://doiodl.pythonanywhere.com/",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({type:"js_test",type_req:"false",object:{type:"get_url"}})}).then((function(e){return console.log(e),e.json()})).then((function(e){return l(e.url)})),console.log(o),r.a.createElement(v.a,{id:e.id},r.a.createElement(N.a,{left:r.a.createElement(z.a,{onClick:e.go,"data-to":"home0"},oe===T.b?r.a.createElement(D.a,null):r.a.createElement(q.a,null))},"\u0422\u0440\u0430\u043d\u0441\u043b\u044f\u0446\u0438\u044f"),r.a.createElement(k.a,null,r.a.createElement(C.a,null,r.a.createElement(Y.a,{width:"device-width",url:o,controls:!0})),r.a.createElement(re,{name:"chat_main",fetchedUser:e.fetchedUser}),r.a.createElement(C.a,null,r.a.createElement(_.a,{size:"xl",level:"2",onClick:e.go,"data-to":"home"},"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0422\u0440\u0430\u043d\u0441\u043b\u044f\u0446\u0438\u044e"))))},ce=function(e){var t=e.id,a=e.go,n=e.fetchedUser;return n.reg_mas={},r.a.createElement(v.a,{id:t},r.a.createElement(k.a,null,r.a.createElement(C.a,null,n.first_name,", \u043f\u0440\u0438\u0432\u0435\u0442!",r.a.createElement(_.a,{style:{position:"relative",left:"35%"},size:"l",level:"commerce",onClick:a,"data-to":"f2"},r.a.createElement("b",null,"\u0425\u043e\u0440\u043e\u0448\u043e")))))},ie=a(106),se=a.n(ie),ue=a(19),me=a.n(ue),he=Object(T.c)(),pe=function(e){var t=e.id,a=e.go,n=e.fetchedUser;return r.a.createElement(v.a,{id:t},r.a.createElement(N.a,{left:r.a.createElement(z.a,{onClick:a,"data-to":"f1"},he===T.b?r.a.createElement(D.a,null):r.a.createElement(q.a,null))},"\u041a\u0430\u043a\u0438\u0435 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u044b \u0441\u0434\u0430\u0435\u0448\u044c?"),r.a.createElement(se.a,{id:"forms_my"},r.a.createElement(me.a,{id:"2048"},"\u0410\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439"),r.a.createElement(me.a,{id:"1024"},"\u0411\u0438\u043e\u043b\u043e\u0433\u0438\u044f"),r.a.createElement(me.a,{id:"512"},"\u0413\u0435\u043e\u0433\u0440\u0430\u0444\u0438\u044f"),r.a.createElement(me.a,{id:"256"},"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0442\u0438\u043a\u0430"),r.a.createElement(me.a,{id:"128"},"\u0418\u0441\u0442\u043e\u0440\u0438\u044f"),r.a.createElement(me.a,{id:"64"},"\u041b\u0438\u0442\u0435\u0440\u0430\u0442\u0443\u0440\u0430"),r.a.createElement(me.a,{id:"32"},"\u041c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u043a\u0430 \u0431\u0430\u0437\u043e\u0432\u0430\u044f"),r.a.createElement(me.a,{id:"16"},"\u041c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u043a\u0430 \u043f\u0440\u043e\u0444\u0438\u043b\u044c\u043d\u0430\u044f"),r.a.createElement(me.a,{id:"8"},"\u041e\u0431\u0449\u0435\u0441\u0442\u0432\u043e\u0437\u043d\u0430\u043d\u0438\u0435"),r.a.createElement(me.a,{id:"4"},"\u0420\u0443\u0441\u0441\u043a\u0438\u0439 \u044f\u0437\u044b\u043a"),r.a.createElement(me.a,{id:"2"},"\u0424\u0438\u0437\u0438\u043a\u0430"),r.a.createElement(me.a,{id:"1"},"\u0425\u0438\u043c\u0438\u044f")),r.a.createElement(C.a,null,r.a.createElement(_.a,{style:{position:"relative",left:"35%"},size:"l",level:"commerce",onClick:function(e){for(var t=document.getElementsByClassName("Checkbox__input"),r=0,o=0;o<t.length;o++)1==t[o].checked&&(r|=parseInt(t[o].id,"10"));n.reg_mas.num=r,a(e)},"data-to":"f3"},r.a.createElement("b",null,"\u0425\u043e\u0440\u043e\u0448\u043e"))))},de=a(169),fe=a(170),ge=a.n(fe),be=Object(T.c)(),Ee=function(e){function t(e){var a;return Object(G.a)(this,t),(a=Object(F.a)(this,Object(Q.a)(t).call(this,e))).state={email:"",purpose:""},a.onChange=a.onChange.bind(Object(R.a)(a)),a.set_sub=a.set_sub.bind(Object(R.a)(a)),a}return Object(X.a)(t,e),Object(L.a)(t,[{key:"onChange",value:function(e){var t=e.currentTarget,a=t.name,n=t.value;this.setState(Object(de.a)({},a,n))}},{key:"set_sub",value:function(e){""!==this.state.purpose&&(this.props.fetchedUser.reg_mas.year=parseInt(this.state.purpose,10),this.props.go(e))}},{key:"render",value:function(){var e=this.state,t=(e.email,e.purpose);return r.a.createElement(v.a,{id:this.props.id},r.a.createElement(N.a,{left:r.a.createElement(z.a,{onClick:this.props.go,"data-to":"f2"},be===T.b?r.a.createElement(D.a,null):r.a.createElement(q.a,null))},"\u0412 \u043a\u0430\u043a\u043e\u043c \u0433\u043e\u0434\u0443 \u0441\u0434\u0430\u0435\u0448\u044c \u0415\u0413\u042d?"),r.a.createElement(se.a,{id:"forms_my"},r.a.createElement(ge.a,{top:"\u0413\u043e\u0434 \u0441\u0434\u0430\u0447\u0438",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438 \u0433\u043e\u0434 \u0441\u0434\u0430\u0447\u0438 \u0415\u0413\u042d",status:t?"valid":"error",bottom:t?"":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0443\u043a\u0430\u0436\u0438 \u0433\u043e\u0434",onChange:this.onChange,value:t,name:"purpose"},r.a.createElement("option",{value:"2020"},"2020"),r.a.createElement("option",{value:"2021"},"2021"),r.a.createElement("option",{value:"0"},"\u0414\u0440\u0443\u0433\u043e\u0435"))),r.a.createElement(C.a,null,r.a.createElement(_.a,{style:{position:"relative",left:"35%"},size:"l",level:"commerce",onClick:this.set_sub,"data-to":"f4"},r.a.createElement("b",null,"\u0425\u043e\u0440\u043e\u0448\u043e"))))}}]),t}(n.Component),ye=a(171),ve=a.n(ye),je=Object(T.c)(),_e=function(e){function t(e){var a;return Object(G.a)(this,t),a=Object(F.a)(this,Object(Q.a)(t).call(this,e)),console.log(e.fetchedUser.reg_mas),a.state={popout:null,actionsLog:[]},a.openDefault=a.openDefault.bind(Object(R.a)(a)),a.closePopout=a.closePopout.bind(Object(R.a)(a)),a.go_home_andreg=a.go_home_andreg.bind(Object(R.a)(a)),a}return Object(X.a)(t,e),Object(L.a)(t,[{key:"go_home_andreg",value:function(){var e={inputId:this.props.fetchedUser.id,inputNum:this.props.fetchedUser.reg_mas.num,inputYear:this.props.fetchedUser.reg_mas.year};fetch("https://artem4ke.pythonanywhere.com/new_reg_obj/",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(e)}),this.props.go_home()}},{key:"openDefault",value:function(){var e=this;this.props.chang(r.a.createElement(ve.a,{actions:[{title:"\u041e\u043a\u0435\u0439",autoclose:!0,action:function(){return e.go_home_andreg()}}],onClose:this.closePopout},r.a.createElement("h2",null,"\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0439 \u0441\u0432\u043e\u0438 "),r.a.createElement("p",null,"\u0414\u043e\u0432\u0444\u0432\u0444\u0432.")))}},{key:"closePopout",value:function(){this.props.chang(null)}},{key:"render",value:function(){return r.a.createElement(v.a,{id:this.props.id,popout:this.state.popout},r.a.createElement(N.a,{left:r.a.createElement(z.a,{onClick:this.props.go,"data-to":"f3"},je===T.b?r.a.createElement(D.a,null):r.a.createElement(q.a,null))},"\u0425\u043e\u0447\u0435\u0448\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0431\u043e\u043d\u0443\u0441?"),r.a.createElement(C.a,null,r.a.createElement(_.a,{style:{position:"relative",left:"35%"},size:"l",level:"commerce",onClick:this.openDefault,"data-to":"f1"},r.a.createElement("b",null,"\u0425\u043e\u0440\u043e\u0448\u043e")),r.a.createElement("br",null),r.a.createElement(_.a,{style:{position:"relative",left:"35%"},level:"tertiary",onClick:this.go_home_andreg,"data-to":"f1"},"\u0417\u0430\u0431\u0435\u0440\u0443 \u043f\u043e\u0437\u0436\u0435")))}}]),t}(n.Component),Oe=function(){var e=Object(n.useState)("home0"),t=Object(h.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)("home1"),c=Object(h.a)(l,2),s=c[0],p=c[1],f=Object(n.useState)(null),b=Object(h.a)(f,2),y=b[0],v=b[1],j=Object(n.useState)(r.a.createElement(E.a,{size:"large"})),_=Object(h.a)(j,2),O=_[0],k=_[1],S=Object(n.useState)("main0"),C=Object(h.a)(S,2),w=C[0],U=C[1],T=Object(n.useState)(null),I=Object(h.a)(T,2),N=I[0],H=I[1];Object(n.useEffect)((function(){function e(e,a){return t.apply(this,arguments)}function t(){return(t=Object(m.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={inputId:t,inputName:a,inputPhone:71234567890,inputEmail:"t@mail.ru",inputPassword:"1234"},fetch("https://artem4ke.pythonanywhere.com/new_reg/",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(n)}).then((function(e){return console.log(e),e.json()})).then((function(e){console.log(e),console.log(typeof e.answer.toString(10));var t="main"+e.answer.toString(10);console.log(t),U(t)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a(){return(a=Object(m.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.sendPromise("VKWebAppGetUserInfo");case 2:return a=t.sent,v(a),console.log(a),t.next=7,e(a.id,a.first_name);case 7:k(null);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}i.a.subscribe((function(e){var t=e.detail,a=t.type,n=t.data;if("VKWebAppUpdateConfig"===a){var r=document.createAttribute("scheme");r.value=n.scheme?n.scheme:"client_light",document.body.attributes.setNamedItem(r)}})),function(){a.apply(this,arguments)}()}),[]);var z=function(e){o(e.currentTarget.dataset.to)},J=function(e){p(e.currentTarget.dataset.to)};return r.a.createElement(g.a,{activeView:w,popout:O},r.a.createElement(d.a,{id:"main0",activePanel:a},r.a.createElement(x,{id:"home0",fetchedUser:y,go:z}),r.a.createElement(le,{id:"persik",go:z,fetchedUser:y})),r.a.createElement(d.a,{id:"main1",activePanel:s,popout:N},r.a.createElement(P,{id:"home1",fetchedUser:y,go:J}),r.a.createElement(ce,{id:"f1",go:J,fetchedUser:y}),r.a.createElement(pe,{id:"f2",go:J,fetchedUser:y}),r.a.createElement(Ee,{id:"f3",go:J,fetchedUser:y}),r.a.createElement(_e,{id:"f4",go:J,fetchedUser:y,chang:function(e){H(e)},go_home:function(e){U("main0")}})))};i.a.send("VKWebAppInit"),l.a.render(r.a.createElement(Oe,null),document.getElementById("root"))}},[[251,1,2]]]);
//# sourceMappingURL=main.97d7c060.chunk.js.map